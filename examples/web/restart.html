<!DOCTYPE html>
<html>
  <body>
    <svg width="340" height="220">
      <rect id="first" x="10" y="10" width="100" height="100" fill="blue"/>
      <rect id="second" x="120" y="10" width="100" height="100" fill="blue"/>
      <rect id="third" x="230" y="10" width="100" height="100" fill="blue"/>
    </svg>
    <script src="../web-animations.js"></script>
    <script>
      'use strict';
      var first = document.getElementById('first');
      var second = document.getElementById('second');
      var third = document.getElementById('third');
      var effect = new MotionPathEffect('M 0 0 L 0 100 L 0 0');

      var firstAnimation = new Animation(first, effect, {duration: 2000, fill: 'none'});
      var secondAnimation = new Animation(second, effect, {duration: 2000, fill: 'none'});
      var thirdAnimation = new Animation(third, effect, {duration: 2000, fill: 'none'});

      var firstPlayer = document.timeline.play(firstAnimation);
      var secondPlayer = document.timeline.play(secondAnimation);
      var thirdPlayer = document.timeline.play(thirdAnimation);

      setTimeout(function () {
        firstPlayer.currentTime = 0;
        // secondAnimation does not restart as it is still running.
      }, 1000);

      // FIXME: the timing is out in comparison with SVG. Need to investigate.

      setTimeout(function () {
        firstPlayer.currentTime = 0;
        secondPlayer.currentTime = 0;
      }, 3000);

      // thirdAnimation never restarts.

    </script>
  </body>
</html>
